<!DOCTYPE html>
<html lang="it">
    <head>
        <meta charset="utf-8"/>
        <title>Il Ciarnuro: GSMS</title>
        <link rel="stylesheet" type="text/css" href="style.css"/>
        <script src="gsms.js" type="text/javascript"></script>
        <script src="lib/chart.js" type="text/javascript"></script>
        <script src="lib/chartjs-adapter-date-fns.bundle.min.js" type="text/javascript"></script>
        <link rel="manifest" href="manifest.json"/>
        <link rel="icon" type="image/png" href="favicon.png"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    </head>
    <body onload=" ">
        <div class="bg"></div>
        <div class="slide visible" id="landingPage">
            <img src="pics/logo.webp" id="logo">
            <h2 id="landingPageText">Clicca lo schermo per continuare</h2>
            <div class="planet" id="planetLanding"></div>
            <div class="shadow" id="shadowLogin"></div>
        </div>
        <div class="slide hidden" id="login_register">
            <img src="pics/logo2.webp" id="logoLogin">
            <div class="shadow" id="shadowLogin"></div>
            <div class="planet" id="planetLogin"></div>
            <div class="back" id="log_reg_back">
                <div class="content">
                    <input type="text" placeholder="Username" class="log_reg_input" id="usernameAccedi">
                    <input type="password" placeholder="Password" class="log_reg_input" id="passwordAccedi">
                    <div class="errorText" id="loginError"></div>
                    <div class="buttons_log_reg">
                        <button onclick="gm.login()">Accedi</button>
                        <button onclick="toSlide('registerPage')">Registrati</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="slide hidden" id="registerPage">
            <img src="pics/logo2.webp" id="logoLogin">
            <div class="planet" id="planetStatic"></div>
            <div class="back" id="registerPage_back">
                <div class="content">
                    <input type="text" placeholder="Username" class="register_input" id="usernameRegister">
                    <input type="text" placeholder="Email" class="register_input" id="emailRegister">
                    <input type="password" placeholder="Password" class="register_input" id="passwordRegister">
                    <input type="password" placeholder="Confirm Password" class="register_input" id="confirmPassword">
                    <div class="errorText" id="registerError"></div>
                    <div class="register_buttons">
                        <button onclick="toSlide('login_register')">Indietro</button>
                        <button onclick="gm.register()">Crea account</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="slide hidden" id="saves">
            <img src="pics/logo2.webp" id="logoLogin">
            <div class="planet" id="planetStatic"></div>
            <div class="back" id="saves_back">
                <div class="content" id="save_content">
                    
                </div>
            </div>
        </div>
        <div class="slide hidden" id="marketHomePage">
            <div id="accessibility">
                <img src="pics/logo3.webp" id="logoHome">
                <h4 id="cur_date"></h4>
                <h5 id="my_balance"></h5>
                <button id="my_stocks" onclick="toSlide('profilePage')">Le tue azioni<img id="my_stock_pic" src="pics/myStockPic.webp"></button>
            </div>
            <div class="market_back" id="best_stock">
                <div class="stock_header">
                    <div class="bestStock_name" id="bestStockName" onclick="toSlide('stockPage')"><h2>*Miglior Titolo*</h2></div>
                    <div class="stockInfo">
                        <div class="bestStock_value" id="bestStockValue"><h1>*Valore*</h1></div>
                    <div class="bestStock_percentage" id="bestStockRise"><h1>*Aumento%*</h1></div>
                    </div>
                </div>
                <div class="time_buttons">
                    <button id="1d" onclick="gm.setGraph('master stock',1,'bestStock_graf')">1g</button>
                    <button id="1w" onclick="gm.setGraph('master stock',7,'bestStock_graf')">1s</button>
                    <button id="1m" onclick="gm.setGraph('master stock',30,'bestStock_graf')">1m</button>
                    <button id="1y" onclick="gm.setGraph('master stock',365,'bestStock_graf')">1a</button>
                    <button id="5y" onclick="gm.setGraph('master stock',(365*5),'bestStock_graf')">5a</button>
                </div>
                <div class="graf">
                    <canvas id="bestStock_graf"></canvas>
                </div>
            </div>
            <div id="rises_falls">
                <div class="market_back" id="rising_stocks">
                    <h3>In rialzo</h3>
                    <div class="rising">
                    </div>
                </div>
                <div class="market_back" id="declining_stocks">
                    <h3>In ribasso</h3>
                    <div class="falling">

                    </div>
                </div>
            </div>   
        </div>
        <div class="slide hidden" id="profilePage">
            <button class="backHome" onclick="toSlide('marketHomePage')">
                <img src="pics/vector.webp">
                <img src="pics/home.webp">
            </button>
            <div id="accessibility_profile">
                <img src="pics/logo2.webp" id="logoProfile">
            </div>
            <div class="profile_back" id="profile">
                <div id="riquadroInterno">
                    <img src="pics/profileImage.webp">
                    <div id="profileInfo">
                        <p id="profileName">Nome:</p>
                        <p id="honorGrade">Onore:</p>
                        <p id="balance">Bilancio:</p>
                        <p id="equity">Equit√†:</p>
                    </div>
                </div>
            </div>
            <div class="profile_back" id="portfolio">
            </div>
        </div>

        <div class="slide hidden" id="stockPage">
            <button class="backHome" onclick="toSlide('marketHomePage')">
                <img src="pics/vector.webp">
                <img src="pics/home.webp">
            </button>
            <div id="accessibility">
                <img src="pics/logo3.webp" id="logoHome">
                <h4 id="cur_date"></h4>
                <h5 id="my_balance"></h5>
                <button id="my_stocks" onclick="toSlide('profilePage')">Le tue azioni<img id="my_stock_pic" src="pics/myStockPic.webp"></button>
            </div>
            <div class="market_back" id="singleStock">
                <div class="stock_header">
                    <div class="bestStock_name" id="singleStockName" onclick="toSlide('stockPage')"><h2>*Miglior Titolo*</h2></div>
                    <div class="stockInfo">
                        <div class="bestStock_value" id="singleStockValue"><h1>*Valore*</h1></div>
                        <div class="bestStock_percentage" id="singleStockRise"><h1>*Aumento%*</h1></div>
                    </div>
                </div>
                <div class="time_buttons">
                    <button id="1d" onclick="gm.setGraph('master stock',1,'bestStock_graf')">1g</button>
                    <button id="1w" onclick="gm.setGraph('master stock',7,'bestStock_graf')">1s</button>
                    <button id="1m" onclick="gm.setGraph('master stock',30,'bestStock_graf')">1m</button>
                    <button id="1y" onclick="gm.setGraph('master stock',365,'bestStock_graf')">1a</button>
                    <button id="5y" onclick="gm.setGraph('master stock',(365*5),'bestStock_graf')">5a</button>
                </div>
                <div class="graf">
                    <canvas id="stock_graf"></canvas>
                </div>
                
            </div>
            <div class="market_back" id="relativeStrenght">
                <h3>Forza relativa</h3>
                <div class="graf">
                    <canvas id="relstrenght_graf"></canvas>
                </div>
            </div>
            <div id="stockActions">
                <div class="buySell" id="buy">
                    <input type="number" id="n_actionsToBuy">
                    <button id="buyButton" onclick="">Compra</button>
                </div>
                <button id="all_in" onclick="">All in</button>
                <div class="buySell" id="sell">
                    <input type="number" id="n_actionsToSell">
                    <button id="sellButton" onclick="">Vendi</button>
                </div>
                <button class="infoButton" onclick="toggleNav()">Info</button>
            </div>
            <div id="infoPanel" class="sidepanel">
                
            </div>
        </div>
    </body>
    <script src="app.js" type="text/javascript"></script>
    <script src="sw.js" type="text/javascript"></script>
    <script type="text/javascript">
        gm.checkLoggedIn().then(r => {
            if (r) toSlide('saves')
            else toSlide('landingPage')
        })
    </script>
</html>

